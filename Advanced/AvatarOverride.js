var LineUp = `{"name":"6v6 LineUp","width":520,"height":205,"spawnDistance":490,"canBeStored":false,"kickoffReset":"full","bg":{"type":"grass","height":155,"width":465,"cornerRadius":0,"kickOffRadius":0},"vertexes":[{"x":-405,"y":15,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":-405,"y":-15,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":405,"y":15,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":405,"y":-15,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":-333,"y":-75,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":-333,"y":-105,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":333,"y":-75,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":333,"y":-105,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":-261,"y":75,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":-261,"y":105,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":261,"y":75,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":261,"y":105,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":-189,"y":-30,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":-189,"y":-60,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":189,"y":-30,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":189,"y":-60,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":-117,"y":60,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":-117,"y":30,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":117,"y":60,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":117,"y":30,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":-45,"y":-15,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":-45,"y":15,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"x":45,"y":-15,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":45,"y":15,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"x":0,"y":155,"cMask":["none"],"cGroup":["none"]},{"x":-465,"y":155,"cMask":["none"],"cGroup":["none"]},{"x":-465,"y":-155,"cMask":["none"],"cGroup":["none"]},{"x":0,"y":-155,"cMask":["none"],"cGroup":["none"]},{"x":465,"y":-155,"cMask":["none"],"cGroup":["none"]},{"x":465,"y":155,"cMask":["none"],"cGroup":["none"]},{"x":-405,"y":30,"cMask":["none"],"cGroup":["none"]},{"x":-405,"y":60,"cMask":["none"],"cGroup":["none"]},{"x":-340.5,"y":-60,"cMask":["none"],"cGroup":["none"]},{"x":-325.5,"y":-60,"cMask":["none"],"cGroup":["none"]},{"x":-325.5,"y":-30,"cMask":["none"],"cGroup":["none"]},{"x":-340.5,"y":-30,"cMask":["none"],"cGroup":["none"]},{"x":-340.5,"y":-45,"cMask":["none"],"cGroup":["none"]},{"x":-325.5,"y":-45,"cMask":["none"],"cGroup":["none"]},{"x":-253.5,"y":120,"cMask":["none"],"cGroup":["none"]},{"x":-268.5,"y":120,"cMask":["none"],"cGroup":["none"]},{"x":-268.5,"y":150,"cMask":["none"],"cGroup":["none"]},{"x":-253.5,"y":150,"cMask":["none"],"cGroup":["none"]},{"x":-253.5,"y":135,"cMask":["none"],"cGroup":["none"]},{"x":-268.5,"y":135,"cMask":["none"],"cGroup":["none"]},{"x":-196.5,"y":-15,"cMask":["none"],"cGroup":["none"]},{"x":-196.5,"y":15,"cMask":["none"],"cGroup":["none"]},{"x":-181.5,"y":15,"cMask":["none"],"cGroup":["none"]},{"x":-181.5,"y":-15,"cMask":["none"],"cGroup":["none"]},{"x":-196.5,"y":0,"cMask":["none"],"cGroup":["none"]},{"x":-181.5,"y":0,"cMask":["none"],"cGroup":["none"]},{"x":-124.5,"y":75,"cMask":["none"],"cGroup":["none"]},{"x":-124.5,"y":105,"cMask":["none"],"cGroup":["none"]},{"x":-119.5,"y":75,"cMask":["none"],"cGroup":["none"]},{"x":-119.5,"y":105,"cMask":["none"],"cGroup":["none"]},{"x":-109.5,"y":105,"cMask":["none"],"cGroup":["none"]},{"x":-109.5,"y":75,"cMask":["none"],"cGroup":["none"]},{"x":-37.5,"y":45,"cMask":["none"],"cGroup":["none"]},{"x":-52.5,"y":45,"cMask":["none"],"cGroup":["none"]},{"x":-52.5,"y":30,"cMask":["none"],"cGroup":["none"]},{"x":-37.5,"y":30,"cMask":["none"],"cGroup":["none"]},{"x":-37.5,"y":60,"cMask":["none"],"cGroup":["none"]},{"x":-52.5,"y":60,"cMask":["none"],"cGroup":["none"]},{"x":405,"y":30,"cMask":["none"],"cGroup":["none"]},{"x":405,"y":60,"cMask":["none"],"cGroup":["none"]},{"x":325.5,"y":-60,"cMask":["none"],"cGroup":["none"]},{"x":340.5,"y":-60,"cMask":["none"],"cGroup":["none"]},{"x":340.5,"y":-30,"cMask":["none"],"cGroup":["none"]},{"x":325.5,"y":-30,"cMask":["none"],"cGroup":["none"]},{"x":325.5,"y":-45,"cMask":["none"],"cGroup":["none"]},{"x":340.5,"y":-45,"cMask":["none"],"cGroup":["none"]},{"x":268.5,"y":120,"cMask":["none"],"cGroup":["none"]},{"x":253.5,"y":120,"cMask":["none"],"cGroup":["none"]},{"x":253.5,"y":150,"cMask":["none"],"cGroup":["none"]},{"x":268.5,"y":150,"cMask":["none"],"cGroup":["none"]},{"x":268.5,"y":135,"cMask":["none"],"cGroup":["none"]},{"x":253.5,"y":135,"cMask":["none"],"cGroup":["none"]},{"x":196.5,"y":-15,"cMask":["none"],"cGroup":["none"]},{"x":196.5,"y":15,"cMask":["none"],"cGroup":["none"]},{"x":181.5,"y":15,"cMask":["none"],"cGroup":["none"]},{"x":181.5,"y":-15,"cMask":["none"],"cGroup":["none"]},{"x":196.5,"y":0,"cMask":["none"],"cGroup":["none"]},{"x":181.5,"y":0,"cMask":["none"],"cGroup":["none"]},{"x":109.5,"y":75,"cMask":["none"],"cGroup":["none"]},{"x":109.5,"y":105,"cMask":["none"],"cGroup":["none"]},{"x":114.5,"y":75,"cMask":["none"],"cGroup":["none"]},{"x":114.5,"y":105,"cMask":["none"],"cGroup":["none"]},{"x":124.5,"y":105,"cMask":["none"],"cGroup":["none"]},{"x":124.5,"y":75,"cMask":["none"],"cGroup":["none"]},{"x":52.5,"y":45,"cMask":["none"],"cGroup":["none"]},{"x":37.5,"y":45,"cMask":["none"],"cGroup":["none"]},{"x":37.5,"y":30,"cMask":["none"],"cGroup":["none"]},{"x":52.5,"y":30,"cMask":["none"],"cGroup":["none"]},{"x":52.5,"y":60,"cMask":["none"],"cGroup":["none"]},{"x":37.5,"y":60,"cMask":["none"],"cGroup":["none"]}],"segments":[{"v0":0,"v1":1,"curve":180,"color":"E56E56","bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":2,"v1":3,"curve":-180,"color":"5689E5","bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":4,"v1":5,"curve":180,"color":"E56E56","bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":6,"v1":7,"curve":-180,"color":"5689E5","bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":8,"v1":9,"curve":-180,"color":"E56E56","bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":10,"v1":11,"curve":180,"color":"5689E5","bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":12,"v1":13,"curve":180,"color":"E56E56","bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":14,"v1":15,"curve":-180,"color":"5689E5","bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":16,"v1":17,"curve":180,"color":"E56E56","bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":18,"v1":19,"curve":-180,"color":"5689E5","bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":20,"v1":21,"curve":-180,"color":"E56E56","bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":22,"v1":23,"curve":180,"color":"5689E5","bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":0,"v1":1,"curve":200,"vis":false,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":4,"v1":5,"curve":200,"vis":false,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":9,"v1":8,"curve":200,"vis":false,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":12,"v1":13,"curve":200,"vis":false,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":16,"v1":17,"curve":200,"vis":false,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":21,"v1":20,"curve":200,"vis":false,"bCoef":0,"cMask":["red"],"cGroup":["wall"]},{"v0":19,"v1":18,"curve":200,"vis":false,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":22,"v1":23,"curve":200,"vis":false,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":15,"v1":14,"curve":200,"vis":false,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":7,"v1":6,"curve":200,"vis":false,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":10,"v1":11,"curve":200,"vis":false,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":3,"v1":2,"curve":200,"vis":false,"bCoef":0,"cMask":["blue"],"cGroup":["wall"]},{"v0":24,"v1":25,"color":"E56E56","cMask":["none"],"cGroup":["none"]},{"v0":25,"v1":26,"color":"E56E56","cMask":["none"],"cGroup":["none"]},{"v0":26,"v1":27,"color":"E56E56","cMask":["none"],"cGroup":["none"]},{"v0":27,"v1":28,"color":"5689E5","cMask":["none"],"cGroup":["none"]},{"v0":28,"v1":29,"color":"5689E5","cMask":["none"],"cGroup":["none"]},{"v0":29,"v1":24,"color":"5689E5","cMask":["none"],"cGroup":["none"]},{"v0":30,"v1":31,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":32,"v1":33,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":33,"v1":34,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":34,"v1":35,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":36,"v1":37,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":38,"v1":39,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":39,"v1":40,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":40,"v1":41,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":41,"v1":42,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":42,"v1":43,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":44,"v1":45,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":45,"v1":46,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":46,"v1":47,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":47,"v1":44,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":48,"v1":49,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":50,"v1":51,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":52,"v1":53,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":53,"v1":54,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":54,"v1":55,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":55,"v1":52,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":56,"v1":57,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":57,"v1":58,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":58,"v1":59,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":59,"v1":60,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":60,"v1":61,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":62,"v1":63,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":64,"v1":65,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":65,"v1":66,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":66,"v1":67,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":68,"v1":69,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":70,"v1":71,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":71,"v1":72,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":72,"v1":73,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":73,"v1":74,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":74,"v1":75,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":76,"v1":77,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":77,"v1":78,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":78,"v1":79,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":79,"v1":76,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":80,"v1":81,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":82,"v1":83,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":84,"v1":85,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":85,"v1":86,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":86,"v1":87,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":87,"v1":84,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":88,"v1":89,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":89,"v1":90,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":90,"v1":91,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":91,"v1":92,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]},{"v0":92,"v1":93,"color":"C7E6BD","cMask":["none"],"cGroup":["none"]}],"goals":[],"discs":[],"planes":[{"normal":[0,1],"dist":-205,"bCoef":0,"cMask":["all"],"_data":{"extremes":{"normal":[0,1],"dist":-205,"canvas_rect":[-710,-213,710,213],"a":[-710,-205],"b":[710,-205]}}},{"normal":[0,-1],"dist":-205,"bCoef":0,"cMask":["all"],"_data":{"extremes":{"normal":[0,-1],"dist":-205,"canvas_rect":[-710,-213,710,213],"a":[-710,205],"b":[710,205]}}},{"normal":[-1,0],"dist":-520,"bCoef":0,"cMask":["all"],"_data":{"extremes":{"normal":[-1,0],"dist":-520,"canvas_rect":[-710,-213,710,213],"a":[520,-213],"b":[520,213]}}},{"normal":[1,0],"dist":-520,"bCoef":0,"cMask":["all"],"_data":{"extremes":{"normal":[1,0],"dist":-520,"canvas_rect":[-710,-213,710,213],"a":[-520,-213],"b":[-520,213]}}},{"normal":[-1,0],"dist":0,"bCoef":0,"cMask":["red"],"cGroup":["blue"],"_data":{"extremes":{"normal":[-1,0],"dist":0,"canvas_rect":[-710,-213,710,213],"a":[0,-213],"b":[0,213]}}},{"normal":[1,0],"dist":0,"bCoef":0,"cMask":["blue"],"cGroup":["red"],"_data":{"extremes":{"normal":[1,0],"dist":0,"canvas_rect":[-710,-213,710,213],"a":[0,-213],"b":[0,213]}}}],"traits":{"ballArea":{"vis":false,"bCoef":1,"cMask":["ball"]},"goalPost":{"radius":8,"invMass":0,"bCoef":0.5},"goalNet":{"vis":true,"bCoef":0.1,"cMask":["ball"]},"kickOffBarrier":{"vis":false,"bCoef":0.1,"cGroup":["redKO","blueKO"],"cMask":["red","blue"]},"none":{"cMask":[""]}},"redSpawnPoints":[[-405,-130],[-333,-130],[-261,-130],[-189,-130],[-117,-130],[-45,-130]],"blueSpawnPoints":[[405,-130],[333,-130],[261,-130],[189,-130],[117,-130],[45,-130]],"ballPhysics":{"radius":0,"damping":0,"invMass":0,"bCoef":0},"playerPhysics":{},"joints":[]}`; //Lineup map scripts here

var JLineUp = JSON.parse(LineUp);
var _LineUp = {ID: 1, Name: JLineUp.name};

var RS = `{"name":"Real Soccer 6v6","width":1600,"height":800,"spawnDistance":770,"canBeStored":false,"kickoffReset":"full","bg":{"type":"grass","width":1400,"height":660,"kickOffRadius":180,"cornerRadius":0},"playerPhysics":{"bCoef":0.5,"invMass":0.5,"damping":0.961,"acceleration":0.1201,"kickingAcceleration":0.07,"kickingDamping":0.9605,"kickStrength":5.81},"ballPhysics":{"radius":7.5,"bCoef":0.5,"invMass":1,"damping":0.99,"color":"FFFFFF","cMask":["all"],"cGroup":["ball"]},"vertexes":[{"x":0,"y":700,"trait":"kickOffBarrier"},{"x":0,"y":180,"cGroup":["redKO","blueKO"],"trait":"kickOffBarrier"},{"x":0,"y":-180,"cGroup":["redKO","blueKO"],"trait":"kickOffBarrier"},{"x":0,"y":-700,"trait":"kickOffBarrier"},{"x":1400,"y":310,"trait":"line"},{"x":1000,"y":310,"trait":"line"},{"x":1400,"y":-310,"trait":"line","curve":0},{"x":1000,"y":-310,"trait":"line","curve":0},{"x":1400,"y":180,"trait":"line"},{"x":1263,"y":180,"trait":"line","curve":0},{"x":1400,"y":-180,"trait":"line"},{"x":1263,"y":-180,"trait":"line","curve":0},{"x":1000,"y":-150,"trait":"line","curve":-130},{"x":1000,"y":150,"trait":"line","curve":-130},{"x":-1400,"y":-310,"trait":"line"},{"x":-1000,"y":-310,"trait":"line"},{"x":-1400,"y":310,"trait":"line"},{"x":-1000,"y":310,"trait":"line"},{"x":-1400,"y":-180,"trait":"line"},{"x":-1260,"y":-180,"trait":"line"},{"x":-1400,"y":180,"trait":"line","curve":0},{"x":-1260,"y":180,"trait":"line","curve":0},{"x":-1000,"y":150,"trait":"line","curve":-130},{"x":-1000,"y":-150,"trait":"line","curve":-130},{"x":1130,"y":4,"trait":"line"},{"x":1130,"y":-4,"trait":"line"},{"x":-1130,"y":4,"trait":"line"},{"x":-1130,"y":-4,"trait":"line"},{"x":-1400,"y":630,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":-1370,"y":660,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":-1370,"y":-660,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":-1400,"y":-630,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":1370,"y":660,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":1400,"y":630,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":1400,"y":-630,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":1370,"y":-660,"bCoef":0,"cMask":["wall"],"trait":"line"},{"x":-1397,"y":135,"trait":"line","color":"ffffff"},{"x":-1465,"y":135,"trait":"line","color":"ffffff"},{"x":-1397,"y":-135,"trait":"line","color":"ffffff"},{"x":-1465,"y":-135,"trait":"line","color":"ffffff"},{"x":1398,"y":135,"trait":"line","color":"ffffff"},{"x":1465,"y":135,"trait":"line","color":"ffffff"},{"x":1398,"y":-135,"trait":"line","color":"ffffff"},{"x":1465,"y":-135,"trait":"line","color":"ffffff"},{"x":-1465,"y":135,"trait":"line","color":"ffffff"},{"x":-1515,"y":190,"trait":"line","color":"ffffff"},{"x":-1465,"y":-135,"trait":"line","color":"ffffff"},{"x":-1515,"y":-190,"trait":"line","color":"ffffff"},{"x":1465,"y":135,"trait":"line","color":"ffffff"},{"x":1515,"y":190,"trait":"line","color":"ffffff"},{"x":1465,"y":-135,"trait":"line","color":"ffffff"},{"x":1515,"y":-190,"trait":"line","color":"ffffff"},{"x":-1427,"y":180,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":40,"color":"576C46"},{"x":-1427,"y":310,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":40,"color":"576C46"},{"x":1427,"y":180,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":-40,"color":"576C46"},{"x":1427,"y":310,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":-40,"color":"576C46"},{"x":-1427,"y":-180,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":-40,"color":"576C46"},{"x":-1427,"y":-310,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":-40,"color":"576C46"},{"x":1427,"y":-180,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":40,"color":"576C46"},{"x":1427,"y":-310,"bCoef":-6,"cMask":["ball"],"trait":"line","curve":40,"color":"576C46"},{"x":1413,"y":-653,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":-60,"color":"576C46"},{"x":1443,"y":-633,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":-60,"color":"576C46"},{"x":1413,"y":653,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":60,"color":"576C46"},{"x":1443,"y":633,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":60,"color":"576C46"},{"x":-1413,"y":653,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":-75,"color":"576C46"},{"x":-1443,"y":633,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":-75,"color":"576C46"},{"x":-1413,"y":-653,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":75,"color":"576C46"},{"x":-1443,"y":-633,"bCoef":-4.5,"cMask":["ball"],"trait":"line","curve":75,"color":"576C46"},{"x":-1433,"y":-310,"bCoef":0,"cMask":["ball"]},{"x":-1433,"y":-180,"cMask":["ball"]},{"x":-1427,"y":310,"bCoef":-5,"cMask":["ball"],"trait":"line","curve":-40,"color":"576C46"},{"x":-1433,"y":310,"bCoef":0,"cMask":["ball"]},{"x":-1427,"y":180,"bCoef":-5,"cMask":["ball"],"trait":"line","curve":-40,"color":"576C46"},{"x":-1433,"y":180,"cMask":["ball"]},{"x":1433,"y":-310,"bCoef":0,"cMask":["ball"]},{"x":1433,"y":-180,"cMask":["ball"]},{"x":1427,"y":-180,"bCoef":-5,"cMask":["ball"]},{"x":1427,"y":-310,"bCoef":-5,"cMask":["ball"]},{"x":1433,"y":310,"bCoef":0,"cMask":["ball"]},{"x":1433,"y":180,"cMask":["ball"]},{"x":1427,"y":310,"bCoef":-5,"cMask":["ball"]},{"x":1427,"y":180,"bCoef":-5,"cMask":["ball"]},{"x":-1400,"y":-600,"cMask":["wall"],"cGroup":["all"]},{"x":1400,"y":-600,"cMask":["wall"],"cGroup":["all"]},{"x":-1400,"y":600,"cMask":["wall"],"cGroup":["all"]},{"x":1400,"y":600,"cMask":["wall"],"cGroup":["all"]},{"x":-1100,"y":-660,"cMask":["wall"],"cGroup":["all"]},{"x":-1400,"y":-360,"cMask":["wall"],"cGroup":["all"]},{"x":1100,"y":-660,"cMask":["wall"],"cGroup":["all"]},{"x":1400,"y":-360,"cMask":["wall"],"cGroup":["all"]},{"x":-1100,"y":660,"cMask":["wall"],"cGroup":["all"]},{"x":-1400,"y":360,"cMask":["wall"],"cGroup":["all"]},{"x":1100,"y":660,"cMask":["wall"],"cGroup":["all"]},{"x":1400,"y":360,"cMask":["wall"],"cGroup":["all"]}],"segments":[{"v0":37,"v1":39,"color":"ffffff","trait":"reargoalNetleft","x":-1465},{"v0":41,"v1":43,"color":"ffffff","trait":"reargoalNetright","x":1465},{"v0":0,"v1":1,"trait":"kickOffBarrier"},{"v0":2,"v1":3,"trait":"kickOffBarrier"},{"v0":4,"v1":5,"trait":"line","y":310},{"v0":5,"v1":7,"trait":"line","x":1000},{"v0":6,"v1":7,"curve":0,"trait":"line","y":-310},{"v0":8,"v1":9,"trait":"line","y":180},{"v0":9,"v1":11,"curve":0,"trait":"line","x":1130},{"v0":10,"v1":11,"trait":"line","y":-180},{"v0":12,"v1":13,"curve":-130,"trait":"line","x":1000},{"v0":14,"v1":15,"trait":"line","y":-310},{"v0":15,"v1":17,"trait":"line","x":-1000},{"v0":16,"v1":17,"trait":"line","y":310},{"v0":18,"v1":19,"trait":"line","y":-180},{"v0":19,"v1":21,"trait":"line","x":-1130},{"v0":20,"v1":21,"curve":0,"trait":"line","y":180},{"v0":22,"v1":23,"curve":-130,"trait":"line","x":-1000},{"v0":24,"v1":25,"curve":-180,"trait":"line","x":935},{"v0":26,"v1":27,"curve":-180,"trait":"line","x":-935},{"v0":24,"v1":25,"curve":180,"trait":"line","x":935},{"v0":26,"v1":27,"curve":180,"trait":"line","x":-935},{"v0":24,"v1":25,"curve":-148.65295185187,"trait":"line","x":935},{"v0":26,"v1":27,"curve":90,"trait":"line","x":-935},{"v0":24,"v1":25,"curve":-90,"trait":"line","x":935},{"v0":26,"v1":27,"curve":-90,"trait":"line","x":-935},{"v0":24,"v1":25,"trait":"line","x":935},{"v0":26,"v1":27,"trait":"line","x":-935},{"v0":28,"v1":29,"curve":90,"bCoef":0,"cMask":["wall"],"trait":"line"},{"v0":30,"v1":31,"curve":90,"bCoef":0,"cMask":["wall"],"trait":"line"},{"v0":32,"v1":33,"curve":90,"bCoef":0,"cMask":["wall"],"trait":"line"},{"v0":34,"v1":35,"curve":90,"bCoef":0,"cMask":["wall"],"trait":"line"},{"v0":36,"v1":37,"curve":5,"color":"ffffff","trait":"sidegoalNet","y":135},{"v0":38,"v1":39,"curve":-5,"color":"ffffff","trait":"sidegoalNet","y":-135},{"v0":40,"v1":41,"curve":-5,"color":"ffffff","trait":"sidegoalNet","y":135,"pos":[1400,135]},{"v0":42,"v1":43,"curve":5,"color":"ffffff","trait":"sidegoalNet","y":-135,"pos":[1400,-135]},{"v0":44,"v1":45,"color":"ffffff","trait":"line"},{"v0":46,"v1":47,"color":"ffffff","trait":"line"},{"v0":48,"v1":49,"color":"ffffff","trait":"line"},{"v0":50,"v1":51,"color":"ffffff","trait":"line"},{"v0":52,"v1":53,"curve":40,"vis":true,"color":"576C46","bCoef":-6,"cMask":["ball"],"trait":"line","x":-1220},{"v0":54,"v1":55,"curve":-40,"vis":true,"color":"576C46","bCoef":-6,"cMask":["ball"],"trait":"line","x":1220},{"v0":56,"v1":57,"curve":-40,"vis":true,"color":"576C46","bCoef":-6,"cMask":["ball"],"trait":"line","x":-1220},{"v0":58,"v1":59,"curve":40,"vis":true,"color":"576C46","bCoef":-6,"cMask":["ball"],"trait":"line","x":1220},{"v0":60,"v1":61,"curve":-60,"vis":true,"color":"576C46","bCoef":-4.5,"cMask":["ball"],"trait":"line"},{"v0":62,"v1":63,"curve":60,"vis":true,"color":"576C46","bCoef":-4.5,"cMask":["ball"],"trait":"line"},{"v0":64,"v1":65,"curve":-75,"vis":true,"color":"576C46","bCoef":-4.5,"cMask":["ball"],"trait":"line"},{"v0":66,"v1":67,"curve":75,"vis":true,"color":"576C46","bCoef":-4.5,"cMask":["ball"],"trait":"line"},{"v0":57,"v1":68,"vis":true,"bCoef":0,"cMask":["ball"],"y":-310},{"v0":56,"v1":69,"vis":true,"cMask":["ball"],"y":-180},{"v0":73,"v1":72,"vis":true,"cMask":["ball"],"y":180},{"v0":71,"v1":70,"vis":true,"cMask":["ball"],"y":310},{"v0":79,"v1":81,"vis":true,"color":"000000","cMask":["ball"],"y":180},{"v0":78,"v1":80,"vis":true,"color":"000000","cMask":["ball"],"y":310},{"v0":74,"v1":77,"vis":true,"color":"000000","cMask":["ball"],"y":-310},{"v0":75,"v1":76,"vis":true,"color":"000000","cMask":["ball"],"y":-180},{"v0":82,"v1":83,"vis":true,"color":"5E844D","cMask":["wall"],"cGroup":["all"]},{"v0":84,"v1":85,"vis":true,"color":"5E844D","cMask":["wall"],"cGroup":["all"]},{"v0":86,"v1":87,"curve":90,"vis":true,"color":"5E844D","cMask":["wall"],"cGroup":["all"]},{"v0":88,"v1":89,"curve":-90,"vis":true,"color":"5E844D","cMask":["wall"],"cGroup":["all"]},{"v0":90,"v1":91,"curve":-90,"vis":true,"color":"5E844D","cMask":["wall"],"cGroup":["all"]},{"v0":92,"v1":93,"curve":90,"vis":true,"color":"5E844D","cMask":["wall"],"cGroup":["all"]},{"v0":1,"v1":2,"curve":180,"vis":false,"bCoef":0.1,"cMask":["red","blue"],"cGroup":["blueKO"],"trait":"kickOffBarrier"},{"v0":2,"v1":1,"curve":180,"vis":false,"bCoef":0.1,"cMask":["red","blue"],"cGroup":["redKO"],"trait":"kickOffBarrier"}],"goals":[{"p0":[-1410,-135],"p1":[-1410,135],"team":"red"},{"p0":[1410,135],"p1":[1410,-135],"team":"blue"}],"discs":[{"pos":[-1400,135],"color":"FF0000","trait":"goalPost","damping":0},{"pos":[-1400,-135],"color":"FF0000","trait":"goalPost","damping":0},{"pos":[1400,135],"color":"0000FF","trait":"goalPost","damping":0},{"pos":[1400,-135],"color":"0000FF","trait":"goalPost","damping":0},{"pos":[-1515,190],"trait":"stanchion"},{"pos":[-1515,-190],"trait":"stanchion"},{"pos":[1515,190],"trait":"stanchion"},{"pos":[1515,-190],"trait":"stanchion"},{"pos":[-1400,-660],"trait":"cornerflag"},{"pos":[-1400,660],"trait":"cornerflag"},{"pos":[1400,-660],"trait":"cornerflag"},{"pos":[1400,660],"trait":"cornerflag"}],"planes":[{"normal":[0,1],"dist":-700,"bCoef":0,"trait":"ballArea","_data":{"extremes":{"normal":[0,1],"dist":-700,"canvas_rect":[-1600,-800,1600,800],"a":[-1600,-700],"b":[1600,-700]}}},{"normal":[0,-1],"dist":-700,"bCoef":0,"trait":"ballArea","_data":{"extremes":{"normal":[0,-1],"dist":-700,"canvas_rect":[-1600,-800,1600,800],"a":[-1600,700],"b":[1600,700]}}},{"normal":[0,1],"dist":-800,"bCoef":0,"_data":{"extremes":{"normal":[0,1],"dist":-800,"canvas_rect":[-1600,-800,1600,800],"a":[-1600,-800],"b":[1600,-800]}}},{"normal":[0,-1],"dist":-800,"bCoef":0,"_data":{"extremes":{"normal":[0,-1],"dist":-800,"canvas_rect":[-1600,-800,1600,800],"a":[-1600,800],"b":[1600,800]}}},{"normal":[1,0],"dist":-1600,"bCoef":0,"_data":{"extremes":{"normal":[1,0],"dist":-1600,"canvas_rect":[-1600,-800,1600,800],"a":[-1600,-800],"b":[-1600,800]}}},{"normal":[-1,0],"dist":-1600,"bCoef":0.1,"_data":{"extremes":{"normal":[-1,0],"dist":-1600,"canvas_rect":[-1600,-800,1600,800],"a":[1600,-800],"b":[1600,800]}}},{"normal":[1,0],"dist":-1465,"bCoef":0,"cMask":["ball"],"_data":{"extremes":{"normal":[1,0],"dist":-1465,"canvas_rect":[-1600,-800,1600,800],"a":[-1465,-800],"b":[-1465,800]}}},{"normal":[-1,0],"dist":-1465,"bCoef":0,"cMask":["ball"],"_data":{"extremes":{"normal":[-1,0],"dist":-1465,"canvas_rect":[-1600,-800,1600,800],"a":[1465,-800],"b":[1465,800]}}}],"redSpawnPoints":[[-1200,0],[-1000,0],[-800,0],[-600,0],[-400,0],[-200,0]],"blueSpawnPoints":[[1200,0],[1000,0],[800,0],[600,0],[400,0],[200,0]],"traits":{"ballArea":{"vis":false,"bCoef":0,"cMask":["ball"]},"goalPost":{"radius":5,"invMass":0,"bCoef":2},"stanchion":{"radius":3,"invMass":0,"bCoef":3,"cMask":["none"]},"cornerflag":{"radius":3,"invMass":0,"bCoef":0.5,"color":"FFFF00","cGroup":[]},"reargoalNetleft":{"vis":true,"bCoef":0.1,"cMask":["ball","red","blue"],"curve":10,"color":"C7E6BD"},"reargoalNetright":{"vis":true,"bCoef":0.1,"cMask":["ball","red","blue"],"curve":-10,"color":"C7E6BD"},"sidegoalNet":{"vis":true,"bCoef":1,"cMask":["ball","red","blue"],"color":"C7E6BD"},"kickOffBarrier":{"vis":false,"bCoef":0.1,"cGroup":["redKO","blueKO"],"cMask":["red","blue"]},"line":{"vis":true,"cMask":[],"color":"C7E6BD"},"tunnel":{"vis":true,"cMask":["red","blue"],"color":"000000"},"advertising":{"vis":true,"cMask":["red","blue"],"color":"333333"},"teambench":{"vis":true,"cMask":[],"color":"000000"},"manager":{"radius":15,"vis":true,"cMask":["red","blue"],"invMass":0,"color":"333333"},"physio":{"radius":15,"vis":true,"cMask":["red","blue"],"invMass":0,"color":"666666"},"redsubs":{"radius":15,"vis":true,"cMask":["red","blue"],"invMass":0,"color":"E56E56"},"bluesubs":{"radius":15,"vis":true,"cMask":["red","blue"],"invMass":0,"color":"5689E5"}},"joints":[]}`; //Real soccer v6 map scripts here

var JRS = JSON.parse(RS);
var _RS = {ID: 2, Name: JRS.name};

var Maps = [LineUp,RS];
var _Maps = [_LineUp,_RS];

var _Map = {ID: 0};

var red_1_pos = {"x": -405, "y": 0, avatar: "1", avatarSet: false, position: "GK", playerid: 0, toSet: {x: -1200, y: 0}}; //Do not forget to change these x's and y's according to your map. They were gathered from my own lineup map.
var red_3_pos = {"x": -333, "y": -90, avatar: "3", avatarSet: false, position: "DF", playerid: 0, toSet: {x: -1000, y: 0}};
var red_6_pos = {"x": -261, "y": 90, avatar: "6", avatarSet: false, position: "DMF", playerid: 0, toSet: {x: -800, y: 0}};
var red_8_pos = {"x": -189, "y": -45, avatar: "8", avatarSet: false, position: "MF", playerid: 0, toSet: {x: -600, y: 0}};
var red_9_pos = {"x": -45, "y": 0, avatar: "9", avatarSet: false, position: "FW", playerid: 0, toSet: {x: -200, y: 0}};
var red_10_pos = {"x": -117, "y": 45, avatar: "10", avatarSet: false, position: "OMF", playerid: 0, toSet: {x: -400, y: 0}};

var blue_1_pos = {"x": 405, "y": 0, avatar: "1", avatarSet: false, position: "GK", playerid: 0, toSet: {x: 1200, y: 0}};
var blue_3_pos = {"x": 333, "y": -90, avatar: "3", avatarSet: false, position: "DF", playerid: 0, toSet: {x: 1000, y: 0}};
var blue_6_pos = {"x": 261, "y": 90, avatar: "6", avatarSet: false, position: "DMF", playerid: 0, toSet: {x: 800, y: 0}};
var blue_8_pos = {"x": 189, "y": -45, avatar: "8", avatarSet: false, position: "MF", playerid: 0, toSet: {x: 600, y: 0}};
var blue_9_pos = {"x": 45, "y": 0, avatar: "9", avatarSet: false, position: "FW", playerid: 0, toSet: {x: 200, y: 0}};
var blue_10_pos = {"x": 117, "y": 45, avatar: "10", avatarSet: false, position: "OMF", playerid: 0, toSet: {x: 400, y: 0}};

var redPositions = [red_1_pos, red_3_pos, red_6_pos, red_8_pos, red_9_pos, red_10_pos];
var bluePositions = [blue_1_pos, blue_3_pos, blue_6_pos, blue_8_pos, blue_9_pos, blue_10_pos];
var teamPositions = [redPositions,bluePositions];

var teams = ["spectators","red","blue"];

var playerList = {};

var colors = {mapChangeWrongName: 0xFFFF00, mapChangeDeny: 0xFF0000, playerLeft: 0xFFFF00, positionSet: 0xFFFFFF};
var fonts = {mapChangeWrongName: "normal", mapChangeDeny: "bold", playerLeft: "normal", positionSet: "normal"};
var sounds = {mapChangeWrongName: 1, mapChangeDeny: 2, playerLeft: 1, positionSet: 1};

var gameStartTimeout = 2000;

var room = HBInit({roomName:"AVATAR OVERRIDE TEST",noPlayer:true,public:false,maxPlayers:12});

function checkPlayerSits(){
    var players = room.getPlayerList().filter(p => room.getPlayerDiscProperties(p.id) != null);
    var fullRedPos = redPositions.filter(r => r.avatarSet == true && r.playerid != 0);
    var fullBluePos = bluePositions.filter(b => b.avatarSet == true && b.playerid != 0);

    if(_Map.ID == 1){
	players.forEach(p => {
	    var index = teamPositions[p.team-1].findIndex(t => pointDistance({x: t.x, y: t.y},room.getPlayerDiscProperties(p.id)) == 0 && t.avatarSet == false && t.playerid == 0);
	    if(index !== -1){
		teamPositions[p.team-1][index].avatarSet = true;
		teamPositions[p.team-1][index].playerid = p.id;
		room.setPlayerAvatar(p.id,teamPositions[p.team-1][index].avatar);
		playerList[p.name].avatar = teamPositions[p.team-1][index].avatar;
		playerList[p.name].toSet.x = teamPositions[p.team-1][index].toSet.x;
		playerList[p.name].toSet.y = teamPositions[p.team-1][index].toSet.y;
		room.sendAnnouncement(`Your position set as ${teamPositions[p.team-1][index].position} please wait for the others to sit.`,p.id,colors.positionSet,fonts.positionSet,sounds.positionSet);
	    }
	});
	if(fullRedPos != undefined && fullBluePos != undefined && fullRedPos.length == redPositions.length && fullBluePos.length == bluePositions.length){
	    room.stopGame();
	    var name = p.name;
	    var id = p.id;
	    setTimeout(function(){
		room.setCustomStadium(RS);
		room.startGame();
		room.setPlayerDiscProperties(id,{x: playerList[name].toSet.x, y: playerList[name].toSet.y});
	    },gameStartTimeout);
	}
    }
}

function pointDistance(p1,p2){
    return Math.hypot(p1.x-p2.x,p1.y-p2.y);
}

function resetPlayerAvatars(){
    room.getPlayerList().forEach(p => {
	room.setPlayerAvatar(p.id);
	playerList[p.name].avatar = 0;
    });
}

function resetPlayerSetPositions(){
    room.getPlayerList().forEach(p => {
	room.setPlayerAvatar(p.id);
	playerList[p.name].toSet.x = 0;
	playerList[p.name].toSet.y = 0;
    });
}

function resetPositions(){
    for(var t in teamPositions){
	teamPositions[t].forEach(p => {
	    p.avatarSet = false;
	    p.playerid = 0;
	    p.toSet.x = 0;
	    p.toSet.y = 0;
	});
    }
}

room.onGameStart = function(byPlayer){
    byPlayer == null ? console.log(`Game started`) : console.log(`Game started by ${byPlayer.name}`);

    if(_Map.ID == 1){
	resetPlayerAvatars();
	resetPlayerSetPositions();
	resetPositions();
    }
}

room.onGameStop = function(byPlayer){
    byPlayer == null ? console.log(`Game stopped`) : console.log(`Game stopped by ${byPlayer.name}`);
}

room.onGameTick = function(){
    checkPlayerSits();
}

room.onPlayerJoin = function(player){
    console.log(`${player.name} has joined`);

    if(playerList[player.name] == undefined)
	playerList[player.name] = {name: player.name, id: player.id, avatar: 0, toSet: {x:0,y:0}};
}

room.onPlayerLeave = function(player){
    console.log(`${player.name} has left`);

    room.sendAnnouncement(`${player.name} from ${teams[player.team]} with number ${playerList[player.name].avatar} has left the room`,null,colors.playerLeft,fonts.playerLeft,sounds.playerLeft);

    var index = teamPositions[player.team-1].findIndex(t => t.playerid == player.id);
    if(index !== -1){
	teamPositions[player.team-1][index].playerid = 0;
    }
}

room.onPositionsReset = function(){
    console.log("Positions reset");
}

room.onStadiumChange = function(newStadiumName,byPlayer){
    byPlayer == null ? console.log(`${newStadiumName} was loaded`) : console.log(`${newStadiumName} was loaded by ${byPlayer.name}`);

    var m = _Maps.find(x => x.Name == newStadiumName);
    var players = room.getPlayerList();
    var admins = room.getPlayerList().filter(p => p.admin == true);

    if(byPlayer == null){
	if(m){
	    _Map = {ID: m.ID, Name: m.Name};
	}
	else{
	    admins.length > 0 ? admins.forEach(p => room.sendAnnouncement(`Something went wrong with map ${newStadiumName}. Please try again!`,p.id,colors.mapChangeWrongName,fonts.mapChangeWrongName,sounds.mapChangeWrongName)) : room.sendAnnouncement(`Something went wrong with map ${newStadiumName}. Please call an admin to try again!`,null,colors.mapChangeWrongName,fonts.mapChangeWrongName,sounds.mapChangeWrongName);
	}
    }
    else{
	room.sendAnnouncement("You don't have authorization to change maps in this room!",byPlayer.id,colors.mapChangeDeny,fonts.mapChangeDeny,sounds.mapChangeDeny);
	room.setCustomStadium(Maps[0]);
    }
}
